{"ast":null,"code":"var _jsxFileName = \"/Users/zwavo/DIDI/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { useQuery } from 'react-query';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// Components\nimport Navbar from './components/Navbar';\nimport Dashboard from './pages/Dashboard';\nimport Attendance from './pages/Attendance';\nimport Students from './pages/Students';\nimport Credentials from './pages/Credentials';\nimport NFCReader from './pages/NFCReader';\nimport Admin from './pages/Admin';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// API functions\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = {\n  health: () => axios.get('/health'),\n  stats: () => axios.get('/api/admin/stats')\n};\nfunction App() {\n  _s();\n  var _healthData$data, _statsData$data, _healthData$data2, _healthData$data3;\n  // Check API health\n  const {\n    data: healthData,\n    isLoading: healthLoading,\n    error: healthError\n  } = useQuery('health', api.health, {\n    refetchInterval: 30000,\n    // Check every 30 seconds\n    retry: 3\n  });\n\n  // Get system stats\n  const {\n    data: statsData,\n    isLoading: statsLoading\n  } = useQuery('stats', api.stats, {\n    refetchInterval: 60000,\n    // Refresh every minute\n    retry: 3\n  });\n\n  // Show error toast if API is down\n  React.useEffect(() => {\n    if (healthError) {\n      toast.error('Backend API is not responding. Please check the server.');\n    }\n  }, [healthError]);\n  if (healthLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      healthStatus: healthData === null || healthData === void 0 ? void 0 : (_healthData$data = healthData.data) === null || _healthData$data === void 0 ? void 0 : _healthData$data.status,\n      stats: statsData === null || statsData === void 0 ? void 0 : (_statsData$data = statsData.data) === null || _statsData$data === void 0 ? void 0 : _statsData$data.stats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/attendance\",\n          element: /*#__PURE__*/_jsxDEV(Attendance, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/students\",\n          element: /*#__PURE__*/_jsxDEV(Students, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/credentials\",\n          element: /*#__PURE__*/_jsxDEV(Credentials, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/nfc\",\n          element: /*#__PURE__*/_jsxDEV(NFCReader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin\",\n          element: /*#__PURE__*/_jsxDEV(Admin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"bg-white border-t border-gray-200 mt-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-600 text-sm\",\n            children: \"\\xA9 2024 Decentralized Attendance System. Built with IOTA & Move.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4 mt-4 md:mt-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-2 h-2 rounded-full ${(healthData === null || healthData === void 0 ? void 0 : (_healthData$data2 = healthData.data) === null || _healthData$data2 === void 0 ? void 0 : _healthData$data2.status) === 'OK' ? 'bg-green-500' : 'bg-red-500'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"API: \", (healthData === null || healthData === void 0 ? void 0 : (_healthData$data3 = healthData.data) === null || _healthData$data3 === void 0 ? void 0 : _healthData$data3.status) || 'Unknown']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"urTFHTjMhLLgMThCF74fuX5y9rg=\", false, function () {\n  return [useQuery, useQuery];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Routes","Route","useQuery","axios","toast","Navbar","Dashboard","Attendance","Students","Credentials","NFCReader","Admin","LoadingSpinner","jsxDEV","_jsxDEV","api","health","get","stats","App","_s","_healthData$data","_statsData$data","_healthData$data2","_healthData$data3","data","healthData","isLoading","healthLoading","error","healthError","refetchInterval","retry","statsData","statsLoading","useEffect","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","healthStatus","status","path","element","_c","$RefreshReg$"],"sources":["/Users/zwavo/DIDI/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { useQuery } from 'react-query';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// Components\nimport Navbar from './components/Navbar';\nimport Dashboard from './pages/Dashboard';\nimport Attendance from './pages/Attendance';\nimport Students from './pages/Students';\nimport Credentials from './pages/Credentials';\nimport NFCReader from './pages/NFCReader';\nimport Admin from './pages/Admin';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// API functions\nconst api = {\n  health: () => axios.get('/health'),\n  stats: () => axios.get('/api/admin/stats'),\n};\n\nfunction App() {\n  // Check API health\n  const { data: healthData, isLoading: healthLoading, error: healthError } = useQuery(\n    'health',\n    api.health,\n    {\n      refetchInterval: 30000, // Check every 30 seconds\n      retry: 3,\n    }\n  );\n\n  // Get system stats\n  const { data: statsData, isLoading: statsLoading } = useQuery(\n    'stats',\n    api.stats,\n    {\n      refetchInterval: 60000, // Refresh every minute\n      retry: 3,\n    }\n  );\n\n  // Show error toast if API is down\n  React.useEffect(() => {\n    if (healthError) {\n      toast.error('Backend API is not responding. Please check the server.');\n    }\n  }, [healthError]);\n\n  if (healthLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar \n        healthStatus={healthData?.data?.status}\n        stats={statsData?.data?.stats}\n      />\n      \n      <main className=\"container mx-auto px-4 py-8\">\n        <Routes>\n          <Route path=\"/\" element={<Dashboard />} />\n          <Route path=\"/attendance\" element={<Attendance />} />\n          <Route path=\"/students\" element={<Students />} />\n          <Route path=\"/credentials\" element={<Credentials />} />\n          <Route path=\"/nfc\" element={<NFCReader />} />\n          <Route path=\"/admin\" element={<Admin />} />\n        </Routes>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-white border-t border-gray-200 mt-16\">\n        <div className=\"container mx-auto px-4 py-6\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center\">\n            <div className=\"text-gray-600 text-sm\">\n              © 2024 Decentralized Attendance System. Built with IOTA & Move.\n            </div>\n            <div className=\"flex items-center space-x-4 mt-4 md:mt-0\">\n              <div className=\"flex items-center space-x-2\">\n                <div className={`w-2 h-2 rounded-full ${healthData?.data?.status === 'OK' ? 'bg-green-500' : 'bg-red-500'}`}></div>\n                <span className=\"text-sm text-gray-600\">\n                  API: {healthData?.data?.status || 'Unknown'}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}